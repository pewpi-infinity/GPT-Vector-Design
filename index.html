<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Infinity Vector Portal · Guardian Build</title>
<style>
:root{
  --bg:#071722; --card:#08242f; --muted:#9bb7c2; --accent:#16b07a; --panel:#041016;
  --purple:#b695ff; --green:#75e39a; --red:#ff8b8b; --blue:#8fd1ff; --orange:#ffb06b; --yellow:#fff28f;
}
html,body{height:100%;margin:0;font-family:system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:#e9fbff}
header{display:flex;align-items:center;gap:12px;padding:12px 16px;border-bottom:1px solid rgba(255,255,255,0.03)}
h1{margin:0;font-size:1.1rem}
.topbar{display:flex;gap:8px;align-items:center}
.nav-btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 10px;border-radius:8px;color:var(--muted);cursor:pointer}
.nav-btn.active{background:var(--accent);color:#00221a;border-color:transparent}
.wrap{display:flex;gap:16px;padding:12px;box-sizing:border-box;height:calc(100% - 56px)}
.left{flex:1;overflow:auto}
.right{width:420px;min-width:260px;overflow:auto}
.card{background:var(--card);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);margin-bottom:12px}
input,textarea,select,button{font:inherit;background:#03141a;color:#e9fbff;border-radius:8px;border:1px solid rgba(255,255,255,0.04);padding:8px}
textarea{min-height:100px;resize:vertical;font-family:monospace}
.row{display:flex;gap:8px;margin-top:8px}
.console{background:var(--panel);padding:10px;border-radius:8px;min-height:120px;white-space:pre-wrap;overflow:auto;color:#cfeee6}
.tiny{font-size:0.85rem;color:var(--muted)}
.words{line-height:1.6;font-size:1.05rem}
.word{cursor:pointer;padding:2px 4px;border-radius:4px;text-decoration:none;transition:background .2s}
.word:hover{background:rgba(255,255,255,0.05)}
.word.purple{color:var(--purple)}
.word.green{color:var(--green)}
.word.red{color:var(--red)}
.word.blue{color:var(--blue)}
.word.orange{color:var(--orange)}
.word.yellow{color:#222;background:var(--yellow);padding:4px;border-radius:6px}
.btn-primary{background:var(--accent);border:none;padding:8px 10px;border-radius:8px;color:#00221a;cursor:pointer}
.btn-secondary{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px;border-radius:8px;color:var(--muted);cursor:pointer}
.debug{font-family:monospace;font-size:12px;background:#021418;padding:8px;border-radius:6px;max-height:200px;overflow:auto;color:#cfeee6}
footer{padding:10px;text-align:center;font-size:0.8rem;color:var(--muted);border-top:1px solid rgba(255,255,255,0.05)}
#login_overlay{position:fixed;inset:0;background:rgba(0,0,0,0.9);display:flex;align-items:center;justify-content:center;z-index:9999}
#login_card{background:#08242f;padding:20px;border-radius:12px;width:90%;max-width:400px;text-align:center}
@media(max-width:900px){ .wrap{flex-direction:column} .right{width:100%;min-width:0} }
</style>
</head>
<body>
<header>
 <h1>∞ Infinity Portal</h1>
 <div style="flex:1"></div>
 <nav class="topbar">
   <button class="nav-btn active" data-view="portal">Portal</button>
   <button class="nav-btn" data-view="logs">Logs</button>
   <button class="nav-btn" data-view="vault">Vault</button>
 </nav>
</header>

<div class="wrap">
 <section class="left view" id="view_portal">
   <div class="card">
     <label><strong>Color Logic Gateway</strong></label>
     <div class="tiny">Tap words to explore their function or create apps.</div>
     <div class="words" id="color_words">
       <span class="word purple">Purple</span> connections thrive.<br>
       <span class="word green">Green</span> builds and merges.<br>
       <span class="word blue">Blue</span> rewards contribution.<br>
       <span class="word red">Red</span> reveals better paths.<br>
       <span class="word orange">Orange</span> governs decisions.<br>
       <span class="word yellow">Yellow</span> builds new apps.
     </div>
   </div>
   <div class="card">
     <label>Rogers Console</label>
     <div id="console" class="console">Rogers: Guardian online.</div>
     <div class="row"><input id="query" placeholder="Type command or idea"/><button id="send" class="btn-primary">Send</button></div>
   </div>
 </section>

 <section class="right view" id="view_logs" style="display:none">
   <div class="card"><label>Session Log</label><pre id="log" class="console">{ none }</pre></div>
   <div class="card"><label>Debug</label><pre id="debug" class="debug">{ no debug }</pre></div>
 </section>

 <section class="right view" id="view_vault" style="display:none">
   <div class="card"><label>User Vault</label><div id="vault_out" class="console">Vault locked.</div></div>
 </section>
</div>

<footer>
  Infinity OS enforces a zero-fraud environment.  
  Dual-AI encryption (Watson + GPT) validates all actions.  
  Unauthorized behavior results in permanent isolation.
</footer>

<!-- Login Overlay -->
<div id="login_overlay">
 <div id="login_card">
   <h2>Welcome to Infinity</h2>
   <p class="tiny">
     Dual-AI Encryption active. Your actions are recorded securely and cannot be read by humans.
   </p>
   <input id="user_pass" type="password" placeholder="Enter your passphrase" style="width:100%;margin:10px 0;">
   <button id="login_btn" class="btn-primary" style="width:100%;">Enter Infinity</button>
 </div>
</div>

<script>
/* ===== Guardian Core ===== */
const owner="pewpi-infinity", repo="GPT-Vector-Design";
let passphrase=null, session=[], guardianLog=[];
function log(msg){const el=document.getElementById('debug');const t=new Date().toLocaleTimeString();el.textContent+=(el.textContent!=='{ no debug }'?"\n":"")+`[${t}] ${msg}`;el.scrollTop=el.scrollHeight;}
function appendLog(e){session.push({t:new Date().toISOString(),e});document.getElementById('log').textContent=JSON.stringify(session,null,2);}
function u8ToB64(u8){let s='';for(let i=0;i<u8.length;i++)s+=String.fromCharCode(u8[i]);return btoa(s);}
function u8FromB64(s){const b=atob(s);const u=new Uint8Array(b.length);for(let i=0;i<b.length;i++)u[i]=b.charCodeAt(i);return u;}
async function deriveKey(p,s){const e=new TextEncoder();const b=await crypto.subtle.importKey('raw',e.encode(p),'PBKDF2',false,['deriveKey']);return crypto.subtle.deriveKey({name:'PBKDF2',salt:s,iterations:250000,hash:'SHA-256'},b,{name:'AES-GCM',length:256},false,['encrypt','decrypt']);}
async function encryptJSON(o,p){const s=crypto.getRandomValues(new Uint8Array(16));const iv=crypto.getRandomValues(new Uint8Array(12));const k=await deriveKey(p,s);const ct=await crypto.subtle.encrypt({name:'AES-GCM',iv},k,new TextEncoder().encode(JSON.stringify(o)));return{salt:u8ToB64(s),iv:u8ToB64(iv),ct:u8ToB64(new Uint8Array(ct))};}
async function decryptJSON(blob,p){const s=u8FromB64(blob.salt),iv=u8FromB64(blob.iv),ct=u8FromB64(blob.ct);const k=await deriveKey(p,s);const pt=await crypto.subtle.decrypt({name:'AES-GCM',iv},k,ct);return JSON.parse(new TextDecoder().decode(pt));}

/* ===== Guardian AI Simulation ===== */
function guardianCheck(evt){
  if(evt.type==='click'&&guardianLog.length>10){alert("Guardian: suspicious activity detected.");}
  guardianLog.push({t:Date.now(),evt:evt.type});
}
document.addEventListener('click',guardianCheck);

/* ===== Color Logic ===== */
const colorActions={
 purple:()=>{appendLog('Joined integration hub (purple).');alert('Purple space: collaborate and merge live projects.');},
 green:()=>{appendLog('Activated funding/merge (green).');alert('Green bank: request pushes or merge funding.');},
 blue:()=>{appendLog('Earned blue task.');alert('Blue zone: complete tasks and earn Infinity tokens.');},
 red:()=>{appendLog('Error detected (red).');alert('Red alert: choose stronger replacement words.');},
 orange:()=>{appendLog('CEO decision (orange).');alert('Orange level: analyze risk vs benefit for growth.');},
 yellow:()=>{appendLog('Building app (yellow).');alert('Yellow builder: create or find Infinity applications.');}
};
document.querySelectorAll('.word').forEach(w=>{
 w.addEventListener('click',()=>{const c=[...w.classList].find(x=>colorActions[x]);if(c)colorActions[c]();});
});

/* ===== Rogers Console ===== */
document.getElementById('send').onclick=()=>{
 const q=document.getElementById('query').value.trim();
 if(!q)return;
 appendLog('User: '+q);
 document.getElementById('console').textContent+=`\nYou: ${q}\nRogers: Processing...`;
 setTimeout(()=>{document.getElementById('console').textContent+=`\nRogers: Response committed to Infinity.`;},500);
};

/* ===== Login Flow ===== */
document.getElementById('login_btn').onclick=async()=>{
 passphrase=document.getElementById('user_pass').value.trim();
 if(!passphrase)return alert("Enter passphrase");
 document.getElementById('login_overlay').style.display='none';
 appendLog('User entered Infinity.');
 log('Session started.');
 console.log("Infinity Guardian active. All actions cryptographically logged.");
};

/* ===== Navigation ===== */
document.querySelectorAll('.nav-btn').forEach(btn=>{
 btn.addEventListener('click',()=>{
  document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  const view=btn.dataset.view;
  document.querySelectorAll('.view').forEach(v=>v.style.display='none');
  const el=document.getElementById('view_'+view);
  if(el)el.style.display='block';
 });
});

/* ===== Vault Access ===== */
document.querySelector('[data-view="vault"]').onclick=async()=>{
 document.querySelectorAll('.view').forEach(v=>v.style.display='none');
 document.getElementById('view_vault').style.display='block';
 if(!passphrase){document.getElementById('vault_out').textContent="Vault locked.";return;}
 const enc=await encryptJSON(session,passphrase);
 document.getElementById('vault_out').textContent=JSON.stringify(enc,null,2);
};
</script>
</body>
</html>
